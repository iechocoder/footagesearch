(function($) {function selectPlayMethod() {    if ((window.navigator.userAgent.indexOf("iPad") != -1) ||        (window.navigator.userAgent.indexOf("iPhone") != -1) /*||     (window.navigator.userAgent.indexOf("Mac OS X") != -1)*/) {        return "QT";    }    return "flash";}function createPlayer(movieUrl, videoWidth, videoHeight, containerId,                      hideControl, autostart) {    var playMethod = selectPlayMethod();    var autoplay = autostart ? "true" : "false";    if (playMethod == 'QT') {        var controller = hideControl ? "false" : "true";        if (!hideControl && (window.navigator.userAgent.indexOf("iP") == -1)) {            videoHeight += 16;        }        var qtContent = QT_GenerateOBJECTText(movieUrl, videoWidth, videoHeight, "",            "controller", controller, "autoplay", autoplay, "scale", "aspect", "bgcolor",            "black", "wmode", "opaque",            "obj#ID", containerId + "_qtobj", "emb#ID", containerId + "_qtembed");        $("#" + containerId).html(qtContent);    } else if (playMethod == 'flash') {        var controlBarHeight = hideControl ? 0 : 22;        var so = new SWFObject("/wp-content/plugins/footagesearch/swf/player.swf", containerId + '_flash',            videoWidth, videoHeight + controlBarHeight, 10);        so.addParam("allowfullscreen", "true");        so.addParam("bgcolor", "black");        so.addVariable("autostart", autoplay);        //if (videoWidth <= 200) {        so.addParam("wmode", "opaque");        //}        if (hideControl) {            so.addVariable("controlbar", "none");        } else {            so.addVariable("controlbar", "bottom");        }        so.addVariable("file", movieUrl);        so.write(containerId);    }}function removePlayer(containerId) {    $("#" + containerId + "_qtembed").remove();    $("#" + containerId + "_qtobj").remove();    $("#" + containerId + "_flash").remove();}function playMotionThumb(obj) {    var jObj = $(obj);    var clipInfo = eval("(" + jObj.parent().find("input:first").val() + ")");    var thumbPlayerId = "footagesearch-thumb-player" + clipInfo.id;    createPlayer(clipInfo.motion_thumb, 216, 120, thumbPlayerId, true, true);}$(document).ready(function () {    $(".footagesearch-clip-mask")        .click(function() {            removePlayer($(this).parent().find(".footagesearch-clip-img-wrapper").find("div").attr("id"));            var clipInfo = eval("(" + $(this).parent().find("input:first").val() + ")");            //window.location = '/' + clipInfo.url;        })        .hover(        function () {            playMotionThumb(this);        },        function () {            removePlayer($(this).parent().find(".footagesearch-clip-img-wrapper").find("div").attr("id"));        }    );});})(jQuery);